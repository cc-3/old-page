



<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Grandes Ideas en Arquitectura de Computadora">
      
      
        <link rel="canonical" href="https://cc-3.github.io/projs/proj01/">
      
      
        <meta name="author" content="CC-3">
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="es">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.2.0">
    
    
      
        <title>1: C y RISC-V - Estructura de Máquinas</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.572ca0f0.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.8c900955.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../stylesheets/emoji.css">
    
      <link rel="stylesheet" href="../../stylesheets/kbd.css">
    
      <link rel="stylesheet" href="../../convnet_demo/style.css">
    
      <link rel="stylesheet" href="../../stylesheets/button.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#proyecto-1-c-y-risc-v" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://cc-3.github.io/" title="Estructura de Máquinas" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Estructura de Máquinas
              </span>
              <span class="md-header-nav__topic">
                1: C y RISC-V
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/cc-3/MachineStructures/" title="Ir al repositorio" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      cc-3/MachineStructures
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://cc-3.github.io/" title="Estructura de Máquinas" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Estructura de Máquinas
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/cc-3/MachineStructures/" title="Ir al repositorio" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      cc-3/MachineStructures
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Inicio" class="md-nav__link">
      Inicio
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Laboratorios
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Laboratorios
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../labs/lab00/" title="0: Git" class="md-nav__link">
      0: Git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../labs/lab01/" title="1: C y GDB" class="md-nav__link">
      1: C y GDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../labs/lab02/" title="2: C y MM" class="md-nav__link">
      2: C y MM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../labs/lab03/" title="3: RISC-V" class="md-nav__link">
      3: RISC-V
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../labs/lab04/" title="4: RISC-V" class="md-nav__link">
      4: RISC-V
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../labs/lab05/" title="5: Logisim" class="md-nav__link">
      5: Logisim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../labs/lab06/" title="6: Logisim Avanzado" class="md-nav__link">
      6: Logisim Avanzado
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../labs/lab07/" title="7: Logisim PJ2 ALU" class="md-nav__link">
      7: Logisim PJ2 ALU
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../labs/lab10/" title="8: SIMD" class="md-nav__link">
      8: SIMD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../labs/lab11/" title="9: OpenMP" class="md-nav__link">
      9: OpenMP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Proyectos
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Proyectos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        1: C y RISC-V
      </label>
    
    <a href="./" title="1: C y RISC-V" class="md-nav__link md-nav__link--active">
      1: C y RISC-V
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objetivos" title="Objetivos" class="md-nav__link">
    Objetivos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requisitos-de-conocimiento" title="Requisitos de Conocimiento" class="md-nav__link">
    Requisitos de Conocimiento
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lecturas-recomendadas" title="Lecturas Recomendadas" class="md-nav__link">
    Lecturas Recomendadas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduccion" title="Introducción" class="md-nav__link">
    Introducción
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#risc-v-green-card" title="RISC-V Green Card" class="md-nav__link">
    RISC-V Green Card
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparacion" title="Preparación" class="md-nav__link">
    Preparación
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estructura-del-proyecto" title="Estructura del Proyecto" class="md-nav__link">
    Estructura del Proyecto
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#el-simulador-de-risc-v" title="El simulador de RISC-V" class="md-nav__link">
    El simulador de RISC-V
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-de-instrucciones" title="Set de Instrucciones" class="md-nav__link">
    Set de Instrucciones
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tipo-r" title="Tipo R" class="md-nav__link">
    Tipo R
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipo-i" title="Tipo I" class="md-nav__link">
    Tipo I
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipo-s" title="Tipo S" class="md-nav__link">
    Tipo S
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipo-sb" title="Tipo SB" class="md-nav__link">
    Tipo SB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipo-u" title="Tipo U" class="md-nav__link">
    Tipo U
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipo-uj" title="Tipo UJ" class="md-nav__link">
    Tipo UJ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estructura-del-codigo" title="Estructura del Código" class="md-nav__link">
    Estructura del Código
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opciones-en-la-linea-de-comandos" title="Opciones en la línea de comandos" class="md-nav__link">
    Opciones en la línea de comandos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parte-1" title="Parte 1" class="md-nav__link">
    Parte 1
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisitos-parte-1" title="Requisitos Parte 1" class="md-nav__link">
    Requisitos Parte 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#probando-la-parte-1" title="Probando la Parte 1" class="md-nav__link">
    Probando la Parte 1
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parte-2" title="Parte 2" class="md-nav__link">
    Parte 2
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisitos" title="Requisitos" class="md-nav__link">
    Requisitos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#probando-la-parte-2" title="Probando la Parte 2" class="md-nav__link">
    Probando la Parte 2
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preguntas-frecuentes" title="Preguntas Frecuentes" class="md-nav__link">
    Preguntas Frecuentes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-como-puedo-empezar" title="1. ¿Cómo puedo empezar?" class="md-nav__link">
    1. ¿Cómo puedo empezar?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-me-da-floating-point-exception-core-dumped-al-hacer-algunas-operaciones-aritmeticas-por-que" title="2. Me da Floating-point Exception (core dumped) al hacer algunas operaciones aritméticas, ¿por qué?" class="md-nav__link">
    2. Me da Floating-point Exception (core dumped) al hacer algunas operaciones aritméticas, ¿por qué?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-en-la-parte-1-el-formato-nunca-es-el-esperado-por-las-pruebas-por-que" title="3. En la parte 1 el formato nunca es el esperado por las pruebas, ¿por qué?" class="md-nav__link">
    3. En la parte 1 el formato nunca es el esperado por las pruebas, ¿por qué?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-puedo-crear-mis-propias-funciones" title="4. ¿Puedo crear mis propias funciones?" class="md-nav__link">
    4. ¿Puedo crear mis propias funciones?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revisando-su-nota" title="Revisando su nota" class="md-nav__link">
    Revisando su nota
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../proj02/" title="2: Procesador" class="md-nav__link">
      2: Procesador
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Tutoriales
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Tutoriales
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/python/" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/install/" title="Instalacion de material" class="md-nav__link">
      Instalacion de material
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Notas
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Notas
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/00_Numbers-Representation/" title="Números" class="md-nav__link">
      Números
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/01_C/" title="C" class="md-nav__link">
      C
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/02_Intro-RISCV/" title="RISC-V" class="md-nav__link">
      RISC-V
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/03_Instruction-Format/" title="Formato de instrucciones" class="md-nav__link">
      Formato de instrucciones
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/04_CALL/" title="CALL" class="md-nav__link">
      CALL
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objetivos" title="Objetivos" class="md-nav__link">
    Objetivos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requisitos-de-conocimiento" title="Requisitos de Conocimiento" class="md-nav__link">
    Requisitos de Conocimiento
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lecturas-recomendadas" title="Lecturas Recomendadas" class="md-nav__link">
    Lecturas Recomendadas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduccion" title="Introducción" class="md-nav__link">
    Introducción
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#risc-v-green-card" title="RISC-V Green Card" class="md-nav__link">
    RISC-V Green Card
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparacion" title="Preparación" class="md-nav__link">
    Preparación
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estructura-del-proyecto" title="Estructura del Proyecto" class="md-nav__link">
    Estructura del Proyecto
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#el-simulador-de-risc-v" title="El simulador de RISC-V" class="md-nav__link">
    El simulador de RISC-V
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-de-instrucciones" title="Set de Instrucciones" class="md-nav__link">
    Set de Instrucciones
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tipo-r" title="Tipo R" class="md-nav__link">
    Tipo R
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipo-i" title="Tipo I" class="md-nav__link">
    Tipo I
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipo-s" title="Tipo S" class="md-nav__link">
    Tipo S
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipo-sb" title="Tipo SB" class="md-nav__link">
    Tipo SB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipo-u" title="Tipo U" class="md-nav__link">
    Tipo U
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipo-uj" title="Tipo UJ" class="md-nav__link">
    Tipo UJ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estructura-del-codigo" title="Estructura del Código" class="md-nav__link">
    Estructura del Código
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opciones-en-la-linea-de-comandos" title="Opciones en la línea de comandos" class="md-nav__link">
    Opciones en la línea de comandos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parte-1" title="Parte 1" class="md-nav__link">
    Parte 1
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisitos-parte-1" title="Requisitos Parte 1" class="md-nav__link">
    Requisitos Parte 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#probando-la-parte-1" title="Probando la Parte 1" class="md-nav__link">
    Probando la Parte 1
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parte-2" title="Parte 2" class="md-nav__link">
    Parte 2
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisitos" title="Requisitos" class="md-nav__link">
    Requisitos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#probando-la-parte-2" title="Probando la Parte 2" class="md-nav__link">
    Probando la Parte 2
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preguntas-frecuentes" title="Preguntas Frecuentes" class="md-nav__link">
    Preguntas Frecuentes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-como-puedo-empezar" title="1. ¿Cómo puedo empezar?" class="md-nav__link">
    1. ¿Cómo puedo empezar?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-me-da-floating-point-exception-core-dumped-al-hacer-algunas-operaciones-aritmeticas-por-que" title="2. Me da Floating-point Exception (core dumped) al hacer algunas operaciones aritméticas, ¿por qué?" class="md-nav__link">
    2. Me da Floating-point Exception (core dumped) al hacer algunas operaciones aritméticas, ¿por qué?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-en-la-parte-1-el-formato-nunca-es-el-esperado-por-las-pruebas-por-que" title="3. En la parte 1 el formato nunca es el esperado por las pruebas, ¿por qué?" class="md-nav__link">
    3. En la parte 1 el formato nunca es el esperado por las pruebas, ¿por qué?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-puedo-crear-mis-propias-funciones" title="4. ¿Puedo crear mis propias funciones?" class="md-nav__link">
    4. ¿Puedo crear mis propias funciones?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revisando-su-nota" title="Revisando su nota" class="md-nav__link">
    Revisando su nota
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/cc-3/MachineStructures/edit/master/page/es/docs/projs/proj01.md" title="Editar esta página" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="proyecto-1-c-y-risc-v">Proyecto 1: C y RISC-V<a class="headerlink" href="#proyecto-1-c-y-risc-v" title="Permanent link">&para;</a></h1>
<h2 id="objetivos">Objetivos<a class="headerlink" href="#objetivos" title="Permanent link">&para;</a></h2>
<ul>
<li>Mejorar sus habilidades de programación en C.</li>
<li>Conocer algunos de los detalles de RISC-V.</li>
<li>Prepararse para lo que viene más adelante en el curso.</li>
</ul>
<h2 id="requisitos-de-conocimiento">Requisitos de Conocimiento<a class="headerlink" href="#requisitos-de-conocimiento" title="Permanent link">&para;</a></h2>
<p>Para realizar este proyecto ustedes tienen que tener claros algunos conceptos, de lo contrario será bastante difícil e incómodo empezar a trabajar. Les recomendamos que antes de empezar estén totalmente seguros que dominan al 100% los siguientes puntos:</p>
<ul>
<li>Operaciones binarias en C (<code>xor</code>, <code>or</code>, <code>and</code>, etc).</li>
<li>Operaciones aritméticas con signo y sin signo en C.</li>
<li>Type casting en C.</li>
<li>Control de flujo en C (<code>switch</code>, <code>if</code>, etc).</li>
<li>Funciones en C.</li>
<li>Entender qué son las estructuras (<code>struct</code>) en C.</li>
<li>Entender cómo funcionan las uniones (<code>union</code>) en C.</li>
<li>Uso correcto de <code>printf</code>.</li>
<li>Entender la estructura del set de instrucciones de RISC-V.</li>
<li>Programar en lenguaje ensamblador RISC-V.</li>
</ul>
<p>Si creen que no tienen claro alguno de estos temas al 100%, por favor no duden en ir a consultar los libros y material correspondiente del curso, por ejemplo <strong>K&amp;R</strong>, es indispensable. En <a href="#lecturas-recomendadas">Lecturas Recomendadas</a> pueden encontrar algunas lecturas que tocan los puntos antes mencionados y otras cosas que también les pueden servir, nunca está demás tener un poco más de información.</p>
<h2 id="lecturas-recomendadas">Lecturas Recomendadas<a class="headerlink" href="#lecturas-recomendadas" title="Permanent link">&para;</a></h2>
<p><img alt="RISCV Book" src="/img/RVB.jpg" />
<img alt="KR" src="/img/KR.jpg" />
<img alt="PH" src="/img/PH.jpg" /></p>
<ul>
<li>Guía Práctica de RISC-V: 2</li>
<li>K&amp;R: 6</li>
<li>P&amp;H: B-43</li>
</ul>
<h2 id="introduccion">Introducción<a class="headerlink" href="#introduccion" title="Permanent link">&para;</a></h2>
<p>En este proyecto ustedes deben de crear un simulador que pueda ejecutar un subconjunto de instrucciones de <strong>RISC-V</strong>. Ustedes se van a encargar de hacer un programa que decodifique y ejecute varias instrucciones de RISC-V. Considérenlo como una versión miniatura de Jupiter.</p>
<h2 id="risc-v-green-card">RISC-V Green Card<a class="headerlink" href="#risc-v-green-card" title="Permanent link">&para;</a></h2>
<p>Recuerden que la <strong>RISC-V Green Card</strong> es una herramienta importante que deben usar. Tiene información acerca de los <em>opcodes</em> y otros campos de cada uno de los diferentes formatos de instrucción.</p>
<p align="center">
  <a href="http://inst.eecs.berkeley.edu/~cs61c/fa17/img/riscvcard.pdf" target="_blank"><img src="/img/berkeleyGC.png" alt="Berkeley Green Card" /></a>
</p>

<h2 id="preparacion">Preparación<a class="headerlink" href="#preparacion" title="Permanent link">&para;</a></h2>
<p><strong>Antes de comenzar asegúrense de que hayan <span style="color: red">leído y comprendido</span> todas las instrucciones del proyecto de principio a fin</strong>. Si tienen alguna pregunta pueden consultar la sección de preguntas frecuentes para ver si ya ha sido resuelta, de lo contrario por favor diríjanse a <strong>Slack</strong> y pregunten en los canales correspondientes.</p>
<p>Para comenzar con el proyecto, primero tienen que tener todos los archivos base, estos se encuentran <a href="https://classroom.github.com/a/BtRtG0ot">aquí</a>. Tienen permitido trabajar en parejas o de forma individual, por lo que al aceptar la asignación les preguntará si desean crear un grupo nuevo o unirse a uno ya existente. Si crean un grupo nuevo, ingresen un nombre que represente al grupo y que no esté ya en los grupos existentes. Use un nombre bonito y creativo! (Alguna referencia a su equipo deportivo favorito, alguna canción que les guste, su carta favorita de Magic, algún anime, lo que quiera siempre y cuando no sea ofensivo) No use nombres aburridos como "Proyecto 1", "CC3 - Seccion X", etc. POR FAVOR.</p>
<p><img alt="Create group" src="/img/projs/proj01/classroom1.png" /></p>
<p>Si desean unirse a un grupo ya creado, tienen que buscar el nombre del grupo y pulsar el botón que dice <strong>join</strong></p>
<p><img alt="Join group" src="/img/projs/proj01/classroom2.png" /></p>
<p><strong>Tienen que tener mucho cuidado al unirse a un grupo ya existente, ya que esto no se puede cambiar después. Al unirse a un grupo tendrá acceso al código de este, por lo que verifique bien dónde se está uniendo para no ser culpable de plagio después.</strong></p>
<p>Ya sea que se unan o creen un nuevo grupo, al finalizar el proceso les creará automáticamente un repositorio con una extensión que termina con su nombre de grupo. Ya habiendo hecho todo eso, pueden ejecutar los siguientes comandos abriendo una terminal (<kbd >CTRL</kbd> <kbd>+</kbd> <kbd>T</kbd>):</p>
<div class="codehilite"><pre><span></span>git clone &lt;link del repositorio&gt;
</pre></div>

<blockquote>
<p><strong>NOTA</strong>: Tienen que reemplazar &lt;link del repositorio> con el link del repositorio que se creó.</p>
</blockquote>
<h2 id="estructura-del-proyecto">Estructura del Proyecto<a class="headerlink" href="#estructura-del-proyecto" title="Permanent link">&para;</a></h2>
<p>Cuando hayan clonado el repositorio, se van a encontrar con los siguientes archivos:</p>
<div class="codehilite"><pre><span></span>Makefile
part1.c  
part2.c  
README.md  
riscv.c  
riscvcode/
riscv.h  
submit  
types.h  
utils.c  
utils.h
</pre></div>

<p>Los únicos archivos que pueden modificar son:</p>
<ul>
<li><code>part1.c</code>: Este es el archivo que van a modificar en la parte 1 del proyecto.</li>
<li><code>utils.c</code>: Archivo auxiliar que contendrá varias funciones de ayuda para la parte 1 y 2 del proyecto.</li>
<li><code>part2.c</code>: Este es el archivo que van a modificar en la parte 2 del proyecto.</li>
</ul>
<p><strong>Ustedes <span style="color: red">NO</span> pueden crear otros archivos ni crear archivos de cabecera <code>.h</code>. Si necesitan agregar funciones de ayuda, por favor colóquenlas en los archivos C correspondientes (<code>utils.c</code>, <code>part1.c</code>, <code>part2.c</code>). Si ustedes no siguen estas recomendaciones, su código no va a compilar en el autograder y obtendrán 0 como nota</strong>.</p>
<p>Otros archivos que necesitan consultar detenidamente para entender el proyecto:</p>
<ul>
<li><code>type.h</code>: Archivo de cabecera que tiene los tipos de datos que ustedes van a utilizar.</li>
<li><code>Makefile</code>: Para compilar y probar su código.</li>
<li><code>riscvcode/*</code>: Archivos para hacer algunas pruebas.</li>
<li><code>utils.h</code>: Archivo que contiene el formato de las instrucciones a ser utilizadas en la parte 1 del proyecto.</li>
</ul>
<p>Archivos que no es necesario que los revisen, pero si son curiosos:</p>
<ul>
<li><code>riscv.h</code>: tiene declaraciones de funciones que se utilizan en la parte 1 y 2 del proyecto.</li>
<li><code>riscv.c</code>: programa encargado de probar la parte 1 y 2 del proyecto, el simulador como tal.</li>
</ul>
<h2 id="el-simulador-de-risc-v">El simulador de RISC-V<a class="headerlink" href="#el-simulador-de-risc-v" title="Permanent link">&para;</a></h2>
<p>Los archivos proporcionados en el repositorio que crearon con GitHub Classroom son la base para un simulador de RISC-V. Primero, ustedes deberán agregar código en <strong><em>part1.c</em></strong> y <strong><em>utils.c</em></strong> para imprimir las instrucciones en ensamblador correspondientes al código de máquina (binario). Una vez realizaron esto, ustedes completarán el programa agregando código en el archivo <strong><em>parte2.c</em></strong> para ejecutar cada instrucción (incluyendo los accesos a memoria). Su simulador debe de ser capaz de entender cada una de las instrucciones siguientes ya codificadas en código de máquina (binario), nosotros ya les damos una tabla de los tipos de instrucciones que debe de ser capaz de manejar su simulador.</p>
<p><strong>Es muy <span style="color: red">IMPORTANTE</span> que ustedes lean y entiendan las definiciones encontradas en <em>types.h</em> antes de empezar su proyecto. Si tiene alguna duda, o encuentran algo que no entiendan respecto a las mismas consulten el capítulo 6 de K&amp;R, que habla sobre estructuras, bitfields y uniones</strong>.</p>
<h3 id="set-de-instrucciones">Set de Instrucciones<a class="headerlink" href="#set-de-instrucciones" title="Permanent link">&para;</a></h3>
<p>El set de instrucciones que su simulador debe soportar esta listado a continuación. Toda la información acá es copiada desde <a href="http://inst.eecs.berkeley.edu/~cs61c/fa17/img/riscvcard.pdf">RISC-V green card</a>, como ayuda adicional pueden utilizar la hoja proporcionada anteriormente.</p>
<h4 id="tipo-r">Tipo R<a class="headerlink" href="#tipo-r" title="Permanent link">&para;</a></h4>
<table>
  <tr>
    <th colspan="7">FORMATO DE UNA INSTRUCCIÓN DE TIPO R </th>
  </tr>
  <tr>
    <td>R-TYPE</td>
    <td><font color="#ff0000">funct7</font></td>
    <td><font color="#0000ff">rs2</font></td>
    <td><font color="#0000ff">rs1</font></td>
    <td><font color="#ff0000">funct3</font></td>
    <td><font color="#0000ff">rd</font></td>
    <td><font color="#ff0000">opcode</font></td>
  </tr>
  <tr>
    <td>Bits</td>
    <td>7</td>
    <td>5</td>
    <td>5</td>
    <td>3</td>
    <td>5</td>
    <td>7</td>
  </tr>
</table>

<table>
  <tr>
    <th colspan="4"> INTRUCCIONES TIPO R (OPCODE 0x33) </th>
  </tr>
  <tr>
    <td>INSTRUCCIÓN</td>
    <td>FUNCT3</td>
    <td>FUNCT7/IMM</td>
    <td>OPERACIÓN</td>
  </tr>
  <tr>
    <td> <font color="#ff0000"> add</font><font color="#0000ff"> rd</font>, <font color="#0000ff"> rs1</font>, <font color="#0000ff"> rs2</font></td>
    <td>0x0</td>
    <td>0x00</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]<-<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] + <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]</td>
  </tr>
  <tr>
    <td> <font color="#ff0000"> mul</font><font color="#0000ff"> rd</font>, <font color="#0000ff"> rs1</font>, <font color="#0000ff"> rs2</font></td>
    <td>0x0</td>
    <td>0x01</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]<-(<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] * <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]) [31:0]</td>
  </tr>
  <tr>
    <td> <font color="#ff0000"> sub</font><font color="#0000ff"> rd</font>, <font color="#0000ff"> rs1</font>, <font color="#0000ff"> rs2</font></td>
    <td>0x0</td>
    <td>0x20</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]<-<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] - <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]</td>
  </tr>
  <tr>
    <td> <font color="#ff0000"> sll</font><font color="#0000ff"> rd</font>, <font color="#0000ff"> rs1</font>, <font color="#0000ff"> rs2</font></td>
    <td>0x1</td>
    <td>0x00</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]<-<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] << <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]</td>
  </tr>
  <tr>
    <td> <font color="#ff0000"> mulh</font><font color="#0000ff"> rd</font>, <font color="#0000ff"> rs1</font>, <font color="#0000ff"> rs2</font></td>
    <td>0x1</td>
    <td>0x01</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]<-(<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] * <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]) [63:32]</td>
  </tr>
  <tr>
    <td> <font color="#ff0000"> slt</font><font color="#0000ff"> rd</font>, <font color="#0000ff"> rs1</font>, <font color="#0000ff"> rs2</font></td>
    <td>0x2</td>
    <td>0x00</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]<-(<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] < <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]) ? 1 : 0</td>
  </tr>
  <tr>
    <td> <font color="#ff0000"> xor</font><font color="#0000ff"> rd</font>, <font color="#0000ff"> rs1</font>, <font color="#0000ff"> rs2</font></td>
    <td>0x4</td>
    <td>0x00</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]<-<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] ^ <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]</td>
  </tr>
  <tr>
    <td> <font color="#ff0000"> div</font><font color="#0000ff"> rd</font>, <font color="#0000ff"> rs1</font>, <font color="#0000ff"> rs2</font></td>
    <td>0x4</td>
    <td>0x01</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]<-<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] / <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]</td>
  </tr>
  <tr>
    <td> <font color="#ff0000"> srl</font><font color="#0000ff"> rd</font>, <font color="#0000ff"> rs1</font>, <font color="#0000ff"> rs2</font></td>
    <td>0x5</td>
    <td>0x00</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]<-<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] >> <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]</td>
  </tr>
  <tr>
    <td> <font color="#ff0000"> sra</font><font color="#0000ff"> rd</font>, <font color="#0000ff"> rs1</font>, <font color="#0000ff"> rs2</font></td>
    <td>0x5</td>
    <td>0x20</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]<-<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] >> <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]</td>
  </tr>
  <tr>
    <td> <font color="#ff0000"> or</font><font color="#0000ff"> rd</font>, <font color="#0000ff"> rs1</font>, <font color="#0000ff"> rs2</font></td>
    <td>0x6</td>
    <td>0x00</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]<-<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] | <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]</td>
  </tr>
  <tr>
    <td> <font color="#ff0000"> rem</font><font color="#0000ff"> rd</font>, <font color="#0000ff"> rs1</font>, <font color="#0000ff"> rs2</font></td>
    <td>0x6</td>
    <td>0x01</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]<-<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] % <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]</td>
  </tr>
  <tr>
    <td> <font color="#ff0000"> and</font><font color="#0000ff"> rd</font>, <font color="#0000ff"> rs1</font>, <font color="#0000ff"> rs2</font></td>
    <td>0x7</td>
    <td>0x00</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]<-<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] & <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]</td>
  </tr>
</table>

<h4 id="tipo-i">Tipo I<a class="headerlink" href="#tipo-i" title="Permanent link">&para;</a></h4>
<p><table>
  <tr>
    <th colspan="6">FORMATO DE UNA INSTRUCCIÓN DE TIPO I </th>
  </tr>
  <tr>
    <td>I-TYPE</td>
    <td><font color="#ff00ff">imm[11:0]</font></td>
    <td><font color="#0000ff">rs1</font></td>
    <td><font color="#ff0000">funct3</font></td>
    <td><font color="#0000ff">rd</font></td>
    <td><font color="#ff0000">opcode</font></td>
  </tr>
  <tr>
    <td>Bits</td>
    <td>12</td>
    <td>5</td>
    <td>3</td>
    <td>5</td>
    <td>7</td>
  </tr>
</table>
<table>
  <tr>
    <th colspan="4"> INTRUCCIONES TIPO I (OPCODE 0x03) </th>
  </tr>
  <tr>
    <td>INSTRUCCIÓN</td>
    <td>FUNCT3</td>
    <td>FUNCT7/IMM</td>
    <td>OPERACIÓN</td>
  </tr>
  <tr>
    <td><font color="#ff0000"> lb</font><font color="#0000ff"> rd,</font><font color="#ff00ff"> offset</font>(<font color="#0000ff">rs1</font>)</td>
    <td>0x0</td>
    <td></td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- SignExt(Mem(<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] + <font color="#ff00ff"> offset</font>, <font color="#00a680">byte</font>)) </td>
  </tr>
  <tr>
    <td><font color="#ff0000"> lh</font><font color="#0000ff"> rd,</font><font color="#ff00ff"> offset</font>(<font color="#0000ff">rs1</font>)</td>
    <td>0x1</td>
    <td></td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- SignExt(Mem(<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] + <font color="#ff00ff"> offset</font>, <font color="#00a680">half</font>)) </td>
  </tr>
  <tr>
    <td><font color="#ff0000"> lw</font><font color="#0000ff"> rd,</font><font color="#ff00ff"> offset</font>(<font color="#0000ff">rs1</font>)</td>
    <td>0x2</td>
    <td></td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- Mem(<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] + <font color="#ff00ff"> offset</font>, <font color="#00a680">word</font>) </td>
  </tr>
</table>
<table>
  <tr>
    <th colspan="4"> INTRUCCIONES TIPO I (OPCODE 0x13) </th>
  </tr>
  <tr>
    <td>INSTRUCCIÓN</td>
    <td>FUNCT3</td>
    <td>FUNCT7/IMM</td>
    <td>OPERACIÓN</td>
  </tr>
  <tr>
    <td><font color="#ff0000"> addi</font><font color="#0000ff"> rd,</font><font color="#0000ff"> rs1,</font><font color="#ff00ff"> imm</font></td>
    <td>0x0</td>
    <td></td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- <font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] + <font color="#ff00ff"> imm</font> </td>
  </tr>
  <tr>
    <td><font color="#ff0000"> slli</font><font color="#0000ff"> rd,</font><font color="#0000ff"> rs1,</font><font color="#ff00ff"> imm</font></td>
    <td>0x1</td>
    <td>0x00</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- <font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] &lt;&lt; <font color="#ff00ff"> imm</font> </td>
  </tr>
  <tr>
    <td><font color="#ff0000"> slti</font><font color="#0000ff"> rd,</font><font color="#0000ff"> rs1,</font><font color="#ff00ff"> imm</font></td>
    <td>0x2</td>
    <td></td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- (<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] &lt; <font color="#ff00ff"> imm</font>) ? 1 : 0</td>
  </tr>
  <tr>
    <td><font color="#ff0000"> xori</font><font color="#0000ff"> rd,</font><font color="#0000ff"> rs1,</font><font color="#ff00ff"> imm</font></td>
    <td>0x4</td>
    <td></td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- <font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] ^ <font color="#ff00ff"> imm</font> </td>
  </tr>
  <tr>
    <td><font color="#ff0000"> srli</font><font color="#0000ff"> rd,</font><font color="#0000ff"> rs1,</font><font color="#ff00ff"> imm</font></td>
    <td>0x5</td>
    <td>0x00</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- <font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] &gt;&gt; <font color="#ff00ff"> imm</font> </td>
  </tr>
  <tr>
    <td><font color="#ff0000"> srai</font><font color="#0000ff"> rd,</font><font color="#0000ff"> rs1,</font><font color="#ff00ff"> imm</font></td>
    <td>0x5</td>
    <td>0x20</td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- <font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] &gt;&gt; <font color="#ff00ff"> imm</font> </td>
  </tr>
  <tr>
    <td><font color="#ff0000"> ori</font><font color="#0000ff"> rd,</font><font color="#0000ff"> rs1,</font><font color="#ff00ff"> imm</font></td>
    <td>0x6</td>
    <td></td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- <font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] | <font color="#ff00ff"> imm</font> </td>
  </tr>
  <tr>
    <td><font color="#ff0000"> andi</font><font color="#0000ff"> rd,</font><font color="#0000ff"> rs1,</font><font color="#ff00ff"> imm</font></td>
    <td>0x7</td>
    <td></td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- <font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] &amp; <font color="#ff00ff"> imm</font> </td>
  </tr>
</table>
<table>
  <tr>
    <th colspan="4"> INTRUCCIONES TIPO I (OPCODE 0x67) </th>
  </tr>
  <tr>
    <td>INSTRUCCIÓN</td>
    <td>FUNCT3</td>
    <td>FUNCT7/IMM</td>
    <td>OPERACIÓN</td>
  </tr>
  <tr>
  <td><font color="#ff0000"> jalr</font></td>
    <td>0x0</td>
    <td></td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- <font color="#ff0000">PC</font> + <font color="#00ff00">4</font> <br><font color="#ff0000">PC</font>&lt;- <font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] + <font color="#ff00ff">imm</font></td>
  </tr>
</table>
<table>
  <tr>
    <th colspan="4"> INTRUCCIONES TIPO I (OPCODE 0x73) </th>
  </tr>
  <tr>
    <td>INSTRUCCIÓN</td>
    <td>FUNCT3</td>
    <td>FUNCT7/IMM</td>
    <td>OPERACIÓN</td>
  </tr>
  <tr>
  <td><font color="#ff0000"> ecall</font></td>
    <td>0x0</td>
    <td>0x000</td>
    <td rowspan="3">(Transfiere el control al Sistema Operativo) <br><font color="#0000ff">a0</font> = <font color="#ff00ff">1</font> imprime el valor contenido en <font color="#0000ff">a1</font> como entero. <br><font color="#0000ff">a0</font> = <font color="#ff00ff"> 10</font>  es exit o un indicador de final de código.<br>
  </td>
     </tr>
</table></p>
<h4 id="tipo-s">Tipo S<a class="headerlink" href="#tipo-s" title="Permanent link">&para;</a></h4>
<p><table>
  <tr>
    <th colspan="7">FORMATO DE UNA INSTRUCCIÓN DE TIPO S </th>
  </tr>
  <tr>
    <td>S-TYPE</td>
    <td><font color="#ff00ff">imm[11:5]</font></td>
    <td><font color="#0000ff">rs2</font></td>
    <td><font color="#0000ff">rs1</font></td>
    <td><font color="#ff0000">funct3</font></td>
    <td><font color="#ff00ff">imm[4:0]</font></td>
    <td><font color="#ff0000">opcode</font></td>
  </tr>
  <tr>
    <td>Bits</td>
    <td>7</td>
    <td>5</td>
    <td>5</td>
    <td>3</td>
    <td>5</td>
    <td>7</td>
  </tr>
</table>
<table>
  <tr>
    <th colspan="4"> INTRUCCIONES TIPO S (OPCODE 0x23) </th>
  </tr>
  <tr>
    <td>INSTRUCCIÓN</td>
    <td>FUNCT3</td>
    <td>FUNCT7/IMM</td>
    <td>OPERACIÓN</td>
  </tr>
  <tr>
    <td><font color="#ff0000">sb</font> <font color="#0000ff">rs2</font>, <font color="#ff00ff">offset</font>(<font color="#0000ff">rs1</font>)</td>
    <td>0x0</td>
    <td></td>
    <td>Mem(<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] + <font color="#ff00ff">offset</font>)&lt;- <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>][7:0]</td>
  </tr>
  <tr>
    <td><font color="#ff0000">sh</font> <font color="#0000ff">rs2</font>, <font color="#ff00ff">offset</font>(<font color="#0000ff">rs1</font>)</td>
    <td>0x1</td>
    <td></td>
    <td>Mem(<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] + <font color="#ff00ff">offset</font>)&lt;- <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>][15:0]</td>
  </tr>
  <tr>
    <td><font color="#ff0000">sw</font> <font color="#0000ff">rs2</font>, <font color="#ff00ff">offset</font>(<font color="#0000ff">rs1</font>)</td>
    <td>0x2</td>
    <td></td>
    <td>Mem(<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] + <font color="#ff00ff">offset</font>)&lt;- <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]</td>
  </tr>
</table></p>
<h4 id="tipo-sb">Tipo SB<a class="headerlink" href="#tipo-sb" title="Permanent link">&para;</a></h4>
<p><table>
  <tr>
    <th colspan="9">FORMATO DE UNA INSTRUCCIÓN DE TIPO SB </th>
  </tr>
  <tr>
    <td>SB-TYPE</td>
    <td><font color="#ff00ff">imm[12]</font></td>
    <td><font color="#ff00ff">imm[10:5]</font></td>
    <td><font color="#0000ff">rs2</font></td>
    <td><font color="#0000ff">rs1</font></td>
    <td><font color="#ff0000">funct3</font></td>
    <td><font color="#ff00ff">imm[4:1]</font></td>
    <td><font color="#ff00ff">imm[11]</font></td>
    <td><font color="#ff0000">opcode</font></td>
  </tr>
  <tr>
    <td>Bits</td>
    <td>1</td>
    <td>6</td>
    <td>5</td>
    <td>5</td>
    <td>3</td>
    <td>4</td>
    <td>1</td>
    <td>7</td>
  </tr>
</table>
<table>
  <tr>
    <th colspan="4"> INTRUCCIONES TIPO SB (OPCODE 0x63) </th>
  </tr>
  <tr>
    <td>INSTRUCCIÓN</td>
    <td>FUNCT3</td>
    <td>FUNCT7/IMM</td>
    <td>OPERACIÓN</td>
  </tr>
  <tr>
    <td><font color="#ff0000">beq</font> <font color="#0000ff">rs1</font>, <font color="#0000ff">rs2</font>, <font color="#ff00ff">offset</font></td>
    <td>0x0</td>
    <td></td>
    <td>if(<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] == <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]) <br> <font color="#ff0000">PC</font>&lt;- <font color="#ff0000">PC</font> + {<font color="#ff00ff">offset</font>, 1b'0}</td>
  </tr>
  <tr>
    <td><font color="#ff0000">bne</font>  <font color="#0000ff">rs1</font>, <font color="#0000ff">rs2</font>, <font color="#ff00ff">offset</font></td>
    <td>0x1</td>
    <td></td>
    <td>if(<font color="#ff0000">R</font>[<font color="#0000ff">rs1</font>] != <font color="#ff0000">R</font>[<font color="#0000ff">rs2</font>]) <br> <font color="#ff0000">PC</font>&lt;- <font color="#ff0000">PC</font> + {<font color="#ff00ff">offset</font>, 1b'0}</td>
  </tr>
</table></p>
<h4 id="tipo-u">Tipo U<a class="headerlink" href="#tipo-u" title="Permanent link">&para;</a></h4>
<p><table>
  <tr>
    <th colspan="4">FORMATO DE UNA INSTRUCCIÓN DE TIPO U </th>
  </tr>
  <tr>
    <td>U-TYPE</td>
    <td><font color="#ff00ff">imm[31:12]</font></td>
    <td><font color="#0000ff">rd</font></td>
    <td><font color="#ff0000">opcode</font></td>
  </tr>
  <tr>
    <td>Bits</td>
    <td>20</td>
    <td>5</td>
    <td>7</td>
  </tr>
</table>
<table>
  <tr>
    <th colspan="4"> INTRUCCIONES TIPO U (OPCODE 0x17) </th>
  </tr>
  <tr>
    <td>INSTRUCCIÓN</td>
    <td>FUNCT3</td>
    <td>FUNCT7/IMM</td>
    <td>OPERACIÓN</td>
  </tr>
  <tr>
    <td><font color="#ff0000">auipc</font> <font color="#0000ff">rd</font>, <font color="#ff00ff">offset</font></td>
    <td></td>
    <td></td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- <font color="#ff0000">PC</font> + {<font color="#ff00ff">offset</font>, 12b'0}
  </td>
  </tr>
</table>
<table>
  <tr>
    <th colspan="4"> INTRUCCIONES TIPO U (OPCODE 0x37) </th>
  </tr>
  <tr>
    <td>INSTRUCCIÓN</td>
    <td>FUNCT3</td>
    <td>FUNCT7/IMM</td>
    <td>OPERACIÓN</td>
  </tr>
  <tr>
    <td><font color="#ff0000">lui</font> <font color="#0000ff">rd</font>, <font color="#ff00ff">offset</font></td>
    <td></td>
    <td></td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- {<font color="#ff00ff">offset</font>, 12b'0}
  </td>
  </tr>
</table></p>
<h4 id="tipo-uj">Tipo UJ<a class="headerlink" href="#tipo-uj" title="Permanent link">&para;</a></h4>
<p><table>
  <tr>
    <th colspan="7">FORMATO DE UNA INSTRUCCIÓN DE TIPO UJ </th>
  </tr>
  <tr>
    <td>UJ-TYPE</td>
    <td><font color="#ff00ff">imm[20]</font></td>
    <td><font color="#ff00ff">imm[10:1]</font></td>
    <td><font color="#ff00ff">imm[11]</font></td>
    <td><font color="#ff00ff">imm[19:12]</font></td>
    <td><font color="#0000ff">rd</font></td>
    <td><font color="#ff0000">opcode</font></td>
  </tr>
  <tr>
    <td>Bits</td>
    <td>1</td>
    <td>10</td>
    <td>1</td>
    <td>8</td>
    <td>5</td>
    <td>7</td>
  </tr>
</table>
<table>
  <tr>
    <th colspan="4"> INTRUCCIONES TIPO UJ (OPCODE 0x6F) </th>
  </tr>
  <tr>
    <td>INSTRUCCIÓN</td>
    <td>FUNCT3</td>
    <td>FUNCT7/IMM</td>
    <td>OPERACIÓN</td>
  </tr>
  <tr>
    <td><font color="#ff0000">jal</font> <font color="#0000ff">rd</font>, <font color="#ff00ff">imm</font></td>
    <td></td>
    <td></td>
    <td><font color="#ff0000">R</font>[<font color="#0000ff">rd</font>]&lt;- <font color="#ff0000">PC</font> + <font color="#00ff00">4</font> <br><font color="#ff0000">PC</font>&lt;- <font color="#ff0000">PC</font> + {<font color="#ff00ff">imm</font>, 1b'0}</td>
  </tr>
</table></p>
<p>Recuerde que si un valor está compuesto de múltiples bytes, el byte menos significativo se almacena en la dirección más baja (a esto se le llama little-endian).</p>
<h3 id="estructura-del-codigo">Estructura del Código<a class="headerlink" href="#estructura-del-codigo" title="Permanent link">&para;</a></h3>
<p>El código base que les fue proporcionado funciona de la siguiente manera:</p>
<ol>
<li>Lee los programas en código de máquina que se encuentran en la memoria (Empezando en la dirección <code>0x01000</code>). Para "ejecutar" el programa este es pasado como un parámetro en la línea de comandos. Cada programa tiene 1 MiB de memoria y la unidad mínima de direccionamiento son los bytes.</li>
<li>Todos los registros de RISC-V son inicializados en 0 y el program counter (<code>pc</code>) hacia la dirección <code>0x01000</code>. Las únicas excepciones a las inicializaciones antes mencionadas son el stack pointer (<code>sp</code>) que tiene un valor inicial de <code>0xEFFFF</code> y el global pointer (<code>gp</code>) que tiene un valor inicial de <code>0x03000</code>. En el contexto de su simulador, el global pointer hace referencia a la sección estática de su memoria. Los registros y el program counter están definidos en el <strong><em>Processor struct</em></strong> definido en <strong><em>types.h</em></strong>.</li>
<li>Se definieron banderas con las cuales puede manejar la interacción con el usuario. Dependiendo de la opción especificada en la línea de comandos, el simulador mostrará un <em>dissassembly dump</em> (<code>-d</code>) o se ejecutará el programa. Habrá más información sobre las opciones de línea de comandos más adelante.</li>
</ol>
<p>Lo que prosigue es qué entra al flujo de simulación principal, el cual ejecuta una única instrucción repetitivamente hasta que la simulación se completa. La ejecución de una instrucción realiza las siguientes tareas:</p>
<ol>
<li>Trae una instrucción desde la memoria, usando el <code>pc</code> como dirección (<em>fetch</em>).</li>
<li>Examina el opcode/funct3 para determinar que instrucción es (<em>decode</em>).</li>
<li>Ejecuta la instrucción y actualiza el <code>pc</code> (<em>execute</em>).</li>
</ol>
<h3 id="opciones-en-la-linea-de-comandos">Opciones en la línea de comandos<a class="headerlink" href="#opciones-en-la-linea-de-comandos" title="Permanent link">&para;</a></h3>
<ul>
<li><code>-i</code>: Corre el simulador en modo interactivo (<em>interactive</em>), es decir que se ejecutará una instrucción a la vez al presionar <kbd>enter</kbd>. Cada instrucción es mostrada en su forma desensamblada.</li>
<li><code>-t</code>: Corre el simulador en modo rastreo (<em>trace</em>), en donde cada instrucción es ejecutada y es mostrada al usuario.</li>
<li><code>-r</code>: Indica al simulador que imprima el contenido de los 32 registros después de que es ejecutada cada instrucción. Esta opción es más útil cuando se combina con la opción <code>-i</code>.</li>
<li><code>-d</code>: Indica al simulador que desensamble el programa completo y que termine sin ejecutarlo.</li>
</ul>
<p>En la parte 2, ustedes deberán implementar los siguientes métodos:</p>
<ul>
<li>El <strong><em>execute_instruction()</em></strong>.</li>
<li>Los diferentes <strong><em>executes</em></strong>.</li>
<li>El <strong><em>store()</em></strong>.</li>
<li>El <strong><em>load()</em></strong>.</li>
</ul>
<p>Para cuando ustedes hayan terminado la implementación de todos los métodos, el simulador será capaz de manejar todas las instrucciones de la tabla anterior.</p>
<h2 id="parte-1">Parte 1<a class="headerlink" href="#parte-1" title="Permanent link">&para;</a></h2>
<p>Su primera tarea es implementar un desensamblador al completar el método <strong><em>decode_instruction()</em></strong> en el archivo <strong><em>part1.c</em></strong> junto a otras funciones.</p>
<p>El objetivo de esta parte, es que, dada una instrucción en código de máquina, ustedes deberán traducirla a su instrucción en lenguaje ensamblador RISC-V (e.g. <code>add x1, x2, x3</code> ). Para esta parte, ustedes no harán referencia a los registros por nombre sino por su número (como está definido en <strong>RISC-V Green Card</strong>). Cuando impriman las instrucciones revisen las constantes definidas en <strong><em>utils.h</em></strong>, ya que estas le pueden ser de ayuda. Más detalles sobre los requisitos a continuación.</p>
<h3 id="requisitos-parte-1">Requisitos Parte 1<a class="headerlink" href="#requisitos-parte-1" title="Permanent link">&para;</a></h3>
<ol>
<li>Imprimir el nombre de la instrucción. Si la instrucción tiene argumentos, impriman un tab (<code>\t</code>).</li>
<li>Imprimir todos los argumentos, siguiendo el orden y formato dado en la columna de <strong>INSTRUCCIÓN</strong> de las tablas mostradas anteriormente.<ul>
<li>Los argumentos son generalmente separados por coma (<code>lw</code>/<code>sw</code>, usan también paréntesis), pero no están separados por espacios.</li>
<li>Ustedes encontrarán de ayuda revisar el archivo <strong><em>utils.h</em></strong>.</li>
<li>Los registros que son argumentos de la instrucción son impresos con una <code>x</code> seguido del número de registro, en decimal. (e.g. <code>x0</code> o <code>x31</code>)</li>
<li>Todos los inmediatos deben mostrarse como un número decimal con signo.</li>
<li>Los corrimientos (e.g. para <code>slli</code>) se imprimen como números decimales sin signo (e.g. 0 a 31).</li>
</ul>
</li>
<li>Imprimir un salto de línea (<code>\n</code>) al final de cada instrucción.</li>
<li>Se estará utilizando un autograder para calificar esta tarea. Si su output difiere del nuestro debido a errores de formato, no obtendrán nota.</li>
<li>Nosotros les proveemos ciertas pruebas. Sin embargo, dado que estas pruebas sólo cubren un subconjunto de todos los escenarios posibles, pasar estas pruebas no significa que su código esté libre de errores. Ustedes deberán identificar todos los casos y probarlos.</li>
</ol>
<p>Para completar la funcionalidad de la parte 1, deben de completar lo siguiente:</p>
<ul>
<li>La función <strong><em>decode_instrucction()</em></strong> en <strong><em>part1.c</em></strong>.</li>
<li>Los diferentes <strong><em>writes</em></strong> en <strong><em>part1.c</em></strong>.</li>
<li>Los diferentes <strong><em>prints</em></strong> en <strong><em>part1.c</em></strong>.</li>
<li>Los diferentes <strong><em>gets</em></strong> en <strong><em>utils.c</em></strong>.</li>
<li>La función <strong><em>bitSigner</em></strong> en <strong><em>utils.c</em></strong>.</li>
</ul>
<p>Ustedes deben de correr el test brindado para su proyecto escribiendo el siguiente comando. Si ustedes pasan el test, verán en su consola el siguiente output.</p>
<div class="codehilite"><pre><span></span>make part1
gcc -g -Wall -Werror -Wfatal-errors -O2 -o riscv utils.c part1.c part2.c riscv.c
simple_disasm TEST PASSED!
multiply_disasm TEST PASSED!
random_disasm TEST PASSED!
---------Disassembly Tests Complete---------
</pre></div>

<h3 id="probando-la-parte-1">Probando la Parte 1<a class="headerlink" href="#probando-la-parte-1" title="Permanent link">&para;</a></h3>
<p>El <code>make part1</code> prueba su proyecto solo con algunos archivos sencillos. Puede consultar la carpeta <code>riscvcode</code> para ver que otros testcases hay, y si quiere probar alguno específico use el comando:</p>
<div class="codehilite"><pre><span></span>make [test_name]_disasm
</pre></div>

<p>Si quiere que estos testcases adicionales se prueben cada vez que ejecute <code>make part1</code>, vaya al Makefile y agreguelos en la línea que dice <code>ASM_TEST</code>:</p>
<div class="codehilite"><pre><span></span>SOURCES := utils.c part1.c part2.c riscv.c
HEADERS := types.h utils.h riscv.h

ASM_TESTS := simple multiply random test_name
</pre></div>

<p>Si su instrucción desensamblada no es igual a la esperada, ustedes obtendrán la diferencia entre el output esperado y el output que devolvieron.</p>
<div class="codehilite"><pre><span></span><span class="c1"># Output esperado</span>
&lt; <span class="m">00001014</span>: lui x8, <span class="m">1048575</span>
---
<span class="c1"># Output devuelto</span>
&gt; <span class="m">00001014</span>: Invalid Instruction: 0xfffff437
</pre></div>

<h2 id="parte-2">Parte 2<a class="headerlink" href="#parte-2" title="Permanent link">&para;</a></h2>
<p>Su segunda tarea es completar el simulador implementando los métodos <strong><em>execute_instruction()</em></strong>. <strong><em>execute()</em></strong>'s, <strong><em>store()</em></strong> y <strong><em>load()</em></strong> del archivo <strong><em>part2.c</em></strong>.</p>
<h3 id="requisitos">Requisitos<a class="headerlink" href="#requisitos" title="Permanent link">&para;</a></h3>
<p>Esta parte consistirá en implementar la funcionalidad de cada instrucción. Por favor implementen las funciones descritas a continuación (todas en <strong><em>part2.c</em></strong>):</p>
<ul>
<li>
<p><strong><em>execute_instruction()</em></strong>: Ejecuta la instrucción proporcionada como parámetro. Esta debería modificar los registros apropiados, realizar las llamadas a memoria necesarias y actualizar el program counter para apuntar a la siguiente instrucción a ejecutar.</p>
</li>
<li>
<p><strong><em>execute()</em></strong>'s: Varias funciones de ayuda para ser llamadas en ciertas condiciones para ciertas instrucciones. Es su decisión usar estas funciones, pero estas les ayudarán de gran manera a organizar el código.</p>
</li>
<li>
<p><strong><em>store()</em></strong>: Toma una dirección, un tamaño, un valor y almacena los primeros (tamaño) bytes del valor dado en la dirección dada. Cuando el parámetro <code>check_align</code> sea <code>1</code> se validarán las restricciones de alineación. Se incluyó este parámetro para obligar a las instrucciones a estar alineadas por palabras de memoria (word-aligned). Cuando implementen el <code>store</code> y <code>load</code>, este parámetro debe ser <code>0</code> dado que RISC-V no hace cumplir las restricciones de alineación.</p>
</li>
<li>
<p><strong><em>load()</em></strong>: Toma una dirección y un tamaño, y retorna los siguientes (tamaño) bytes empezando en la dirección dada. El <code>check_align</code> funciona de la misma forma que en <code>store()</code>.</p>
</li>
</ul>
<h3 id="probando-la-parte-2">Probando la Parte 2<a class="headerlink" href="#probando-la-parte-2" title="Permanent link">&para;</a></h3>
<p>Les hemos adjuntado un self-checking assembly test que prueba varias de las instruciones, sin embargo este test no es exhaustivo y no prueba todas las instrucciones. A continuación, se ejemplifica cómo ejecutar los test (el output es de una solución correcta).</p>
<div class="codehilite"><pre><span></span>make part2
gcc -Wall -Werror -Wfatal-errors -O2 -o riscv utils.c part1.c part2.c riscv.c
simple_execute TEST PASSED!
multiply_execute TEST PASSED!
random_execute TEST PASSED!
-----------Execute Tests Complete-----------
</pre></div>

<p>Lo más probable es que ustedes tenga errores al empezar a realizar la parte 2, entonces prueben el modo de rastreo (<em>trace</em>) descrito en <a href="#opciones-en-la-linea-de-comandos">Opciones en la línea de Comandos</a>.</p>
<p>Al igual que en la parte 1, el comando <code>make part2</code> hace solo algunas pruebas sencillas. Para usar los demás testcases que encontró en la carpeta <code>riscvcode</code> utilice el comando:</p>
<div class="codehilite"><pre><span></span>make <span class="o">[</span>test_name<span class="o">]</span>_execute
</pre></div>

<h2 id="preguntas-frecuentes">Preguntas Frecuentes<a class="headerlink" href="#preguntas-frecuentes" title="Permanent link">&para;</a></h2>
<h3 id="1-como-puedo-empezar">1. ¿Cómo puedo empezar?<a class="headerlink" href="#1-como-puedo-empezar" title="Permanent link">&para;</a></h3>
<p>Lo mejor es revisar <code>types.h</code> y analizar la estructura <code>Instruction</code> para empezar a trabajar en la <code>parte1.c</code>, por ejemplo como acceder a cada campo de cada diferente tipo de instrucción y al opcode también. Por ejemplo, para acceder al <code>opcode</code> pueden utilizar:</p>
<div class="codehilite"><pre><span></span><span class="n">instruction</span><span class="p">.</span><span class="n">opcode</span>
</pre></div>

<p>siendo <code>instruction</code> una variable que representa una "instancia" de la estructura <code>Instruction</code>. Luego de esto, pueden ver cómo accediendo a estos campos pueden decodificar la instrucción y así lograr imprimirla.</p>
<h3 id="2-me-da-floating-point-exception-core-dumped-al-hacer-algunas-operaciones-aritmeticas-por-que">2. Me da Floating-point Exception (core dumped) al hacer algunas operaciones aritméticas, ¿por qué?<a class="headerlink" href="#2-me-da-floating-point-exception-core-dumped-al-hacer-algunas-operaciones-aritmeticas-por-que" title="Permanent link">&para;</a></h3>
<p>Generalmente esto se da porque se divide por <code>0</code> o hay <code>overflow</code> utilizando variables enteras con signo. Por ejemplo:</p>
<div class="superfences-tabs">
<input name="__tabs_1" type="radio" id="__tab_1_0" checked="checked" />
<label for="__tab_1_0">Division por 0</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="n">y</span><span class="p">;</span>
</pre></div></div>
<input name="__tabs_1" type="radio" id="__tab_1_1" />
<label for="__tab_1_1">Overflow</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="kt">int32_t</span> <span class="n">x</span> <span class="o">=</span> <span class="mh">0x80000000</span><span class="p">;</span>
<span class="kt">int32_t</span> <span class="n">y</span> <span class="o">=</span> <span class="mh">0xffffffff</span><span class="p">;</span>
<span class="kt">int32_t</span> <span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="n">y</span><span class="p">;</span>
</pre></div></div>
</div>
<p>La solución para la división por <code>0</code> es simplemente tienen que devolver <code>-1</code> como dice la especificación de RISC-V  y para el residuo devolver el primer argumento de la operación. En el caso de <code>overflow</code> devolvemos <code>rs1</code> para la division y <code>0</code> para el residuo.</p>
<div class="superfences-tabs">
<input name="__tabs_2" type="radio" id="__tab_2_0" checked="checked" />
<label for="__tab_2_0">Division</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="c1">// division</span>
<span class="k">if</span> <span class="p">(</span><span class="n">rs2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">rd</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>                <span class="c1">// division entre cero</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">rs1</span> <span class="o">==</span> <span class="mh">0x80000000</span> <span class="o">&amp;&amp;</span> <span class="n">rs2</span> <span class="o">==</span> <span class="mh">0xffffffff</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">rd</span> <span class="o">=</span> <span class="n">rs1</span><span class="p">;</span>               <span class="c1">// overflow</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">rd</span> <span class="o">=</span> <span class="n">rs1</span> <span class="o">/</span> <span class="n">rs2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div></div>
<input name="__tabs_2" type="radio" id="__tab_2_1" />
<label for="__tab_2_1">Residuo</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="c1">// residuo</span>
<span class="k">if</span> <span class="p">(</span><span class="n">rs2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">rd</span> <span class="o">=</span> <span class="n">rs1</span><span class="p">;</span>               <span class="c1">// residuo entre cero</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">rs1</span> <span class="o">==</span> <span class="mh">0x80000000</span> <span class="o">&amp;&amp;</span> <span class="n">rs2</span> <span class="o">==</span> <span class="mh">0xffffffff</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">rd</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>                 <span class="c1">// overflow</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">rd</span> <span class="o">=</span> <span class="n">rs1</span> <span class="o">%</span> <span class="n">rs2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div></div>
</div>
<h3 id="3-en-la-parte-1-el-formato-nunca-es-el-esperado-por-las-pruebas-por-que">3. En la parte 1 el formato nunca es el esperado por las pruebas, ¿por qué?<a class="headerlink" href="#3-en-la-parte-1-el-formato-nunca-es-el-esperado-por-las-pruebas-por-que" title="Permanent link">&para;</a></h3>
<p>Seguramente no están utilizando el formato correcto, les recomendamos que utilicen las siguientes <code>macros</code> para imprimir las instrucciones que se encuentran en el archivo <code>utils.h</code>:</p>
<div class="codehilite"><pre><span></span><span class="cp">#define RTYPE_FORMAT &quot;%s\tx%d, x%d, x%d\n&quot;</span>
<span class="cp">#define ITYPE_FORMAT &quot;%s\tx%d, x%d, %d\n&quot;</span>
<span class="cp">#define JALR_FORMAT &quot;jalr\tx%d, x%d, %d\n&quot;</span>
<span class="cp">#define MEM_FORMAT &quot;%s\tx%d, %d(x%d)\n&quot;</span>
<span class="cp">#define AUIPC_FORMAT &quot;auipc\tx%d, %d\n&quot;</span>
<span class="cp">#define LUI_FORMAT &quot;lui\tx%d, %d\n&quot;</span>
<span class="cp">#define JAL_FORMAT &quot;jal\tx%d, %d\n&quot;</span>
<span class="cp">#define BRANCH_FORMAT &quot;%s\tx%d, x%d, %d\n&quot;</span>
<span class="cp">#define ECALL_FORMAT &quot;ecall\n&quot;</span>
</pre></div>

<h3 id="4-puedo-crear-mis-propias-funciones">4. ¿Puedo crear mis propias funciones?<a class="headerlink" href="#4-puedo-crear-mis-propias-funciones" title="Permanent link">&para;</a></h3>
<p>Sí, siempre y cuando estas estén declaradas, ya sea en <code>part1.c</code>, <code>part2.c</code> o <code>utils.c</code>, ya que son los únicos archivos que el autograder toma en cuenta. Sin embargo, <strong><span style="color: red">NO</span> está permitido renombrar o eliminar las siguientes funciones</strong>:</p>
<div class="codehilite"><pre><span></span><span class="cm">/* archivo part1.c */</span>
<span class="kt">void</span> <span class="nf">decode_instruction</span><span class="p">(</span><span class="n">Instruction</span> <span class="n">i</span><span class="p">);</span>

<span class="cm">/* archivo part2.c */</span>
<span class="kt">void</span> <span class="nf">execute_instruction</span><span class="p">(</span><span class="n">Instruction</span> <span class="n">instruction</span><span class="p">,</span> <span class="n">Processor</span><span class="o">*</span> <span class="n">processor</span><span class="p">,</span> <span class="n">Byte</span> <span class="o">*</span><span class="n">memory</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">store</span><span class="p">(</span><span class="n">Byte</span> <span class="o">*</span><span class="n">memory</span><span class="p">,</span> <span class="n">Address</span> <span class="n">address</span><span class="p">,</span> <span class="n">Alignment</span> <span class="n">alignment</span><span class="p">,</span> <span class="n">Word</span> <span class="n">value</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="n">Word</span> <span class="nf">load</span><span class="p">(</span><span class="n">Byte</span> <span class="o">*</span><span class="n">memory</span><span class="p">,</span> <span class="n">Address</span> <span class="n">address</span><span class="p">,</span> <span class="n">Alignment</span> <span class="n">alignment</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
</pre></div>

<p>Ya que el simulador <code>riscv.c</code> espera que estas estén definidas.</p>
<h2 id="revisando-su-nota">Revisando su nota<a class="headerlink" href="#revisando-su-nota" title="Permanent link">&para;</a></h2>
<p>Si no hizo el lab 1, se cambió de máquina, no usó el autograder, etc. vaya primero a consultar las <a href="https://cc-3.github.io/labs/lab01/#entrega-de-laboratorio">instrucciones de instalación</a></p>
<p>Cuando quiera conocer su nota, utilize el comando:</p>
<div class="codehilite"><pre><span></span>./check
</pre></div>

<p>Cuando esté satisfecho con su nota recuerde hacer <code>add</code>, <code>commit</code> y <code>push</code> a su repositorio. Luego, ambas personas del equipo tienen que subir el link del repo al GES.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../labs/lab11/" title="9: OpenMP" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                9: OpenMP
              </span>
            </div>
          </a>
        
        
          <a href="../proj02/" title="2: Procesador" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Siguiente
                </span>
                2: Procesador
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            CC-3
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/cc-3/MachineStructures" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.b41f3d20.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../../assets/javascripts/lunr/lunr.es.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="../../js/latex.js"></script>
      
        <script src="../../convnet_demo/jquery.min.js"></script>
      
        <script src="../../convnet_demo/convnet-min.js"></script>
      
        <script src="../../convnet_demo/convnet_demo.js"></script>
      
        <script src="../../js/python.js"></script>
      
    
    
      
    
  </body>
</html>